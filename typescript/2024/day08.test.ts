import * as assert from "node:assert";
import { describe, it } from "node:test";
import { Day08 } from "./day08";

describe("Day 8", () => {
  const day = new Day08();

  describe("when creating antinodes", () => {
    [
      {
        input: [
          "..........",
          "..........",
          "..........",
          "....a.....",
          "..........",
          ".....a....",
          "..........",
          "..........",
          "..........",
          "..........",
        ],
        expected: [
          "..........",
          "...#......",
          "..........",
          "....a.....",
          "..........",
          ".....a....",
          "..........",
          "......#...",
          "..........",
          "..........",
        ],
        description: "2 antinodes for 2 antennas",
      },
      {
        input: [
          "..........",
          "..........",
          "..........",
          "....a.....",
          "........a.",
          ".....a....",
          "..........",
          "......A...",
          "..........",
          "..........",
        ],
        expected: [
          "..........",
          "...#......",
          "#.........",
          "....a.....",
          "........a.",
          ".....a....",
          "..#.......",
          "......A...",
          "..........",
          "..........",
        ],
        description: "3 antinodes for 3 antennas",
      },
      {
        input: [
          "............",
          "........0...",
          ".....0......",
          ".......0....",
          "....0.......",
          "......A.....",
          "............",
          "............",
          "........A...",
          ".........A..",
          "............",
          "............",
        ],
        expected: [
          "......#....#",
          "...#....0...",
          "....#0....#.",
          "..#....0....",
          "....0....#..",
          ".#....A.....",
          "...#........",
          "#......#....",
          "........A...",
          ".........A..",
          "..........#.",
          "..........#.",
        ],
        description: "14 antinodes, including 1 overlap (oh no)",
      },
    ].forEach(({ input, expected, description }) => {
      it(`should return ${description}`, () => {
        assert.deepStrictEqual(day.createAntinodes(input), expected);
      });
    });
  });
});
